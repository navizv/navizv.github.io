<html>
<head>
<title>
ZiVis test (ZiVisMaker)
</title>
        <link type="text/css" href="css/jquery-ui-1.10.3.custom.css" rel="stylesheet" />

        <script src="/libs/js/jquery.min.js"></script>
	<script src="/libs/js/highcharts.js"></script>
	<script src="/libs/js/exporting.js"></script>
       	<script src="js/jquery-ui-1.10.3.custom.min.js" type="text/javascript"></script>
        <script src="/libs/js/FileSaver.min.js"></script>
	<script src="/libs/zimap/zimap.js"></script>
	<script src="/libs/zimap/zivis.js"></script>

</head>
<body>
<div id="tabs">
            <ul>
                <li><a href="#datadiv">Data</a></li>
                <li><a href="#visdiv">Settings</a></li>
                <li><a href="#expdiv">Export</a></li>
                <li><a href="#tabs-4">Hide</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="help.html">Help</a></li>
                <input type="button" value="Visualize" onclick="doit()">
            </ul>

<div id="datadiv" class="pages" style="display:block;">

<b>Data:</b><br/>
<textarea rows="10" cols="40" id="dat">Something;2000;2001;2002
RU-NEN;9;7;10
UA;7;8;9
US;4;5;6
RU-KHM;9;6;6
RU-SA;4;5;6
US-CA;7;8;9
US-IL;9;7;10</textarea>
</div>

<div id="visdiv" class="pages" style="display:none;">
<select id="vistype">
	<option value="Table">Table</option>
	<option value="Chart">Chart</option>
	<option value="Map" selected>Map</option>
</select>

<div id="Map">
mapset
</div>
<div id="Table">
No options for table
</div>
<div id="Chart">
Chart type:<br/>
<select id="charttype">
	<option value="pie" selected>pie</option>
	<option value="line">lines</option>
	<option value="column">bars</option>
	<option value="bar">horizontal bars</option>
</select>
</div>
</div>
    <div id="expdiv" >
        <textarea rows="10" cols="40" id="codetxt">
        </textarea>
    </div>
</div>
<!-- end of tabs -->

<div id="container" style="width: 500px; height: 300px; opacity: 1;"></div>
<script>
function doit(){
if(location.search.length > 1)
dat.value=decodeURIComponent(location.search.substring(1));
//alert(dat.value.replace(/\r\n/g,"\n"));
var obj;
$("#container").html("");
$("<div></div>").appendTo("#container").zivis(obj = {
	data:{
		str : dat.value.replace(/\r\n/g,"\n"),//"Something;2000;2001;2002+RU;9;7;10+UA;7;8;9+US;4;5;6+RU-KHM;9;6;6+RU-SA;4;5;6+US-CA;7;8;9+US-IL;9;7;10", 
		colsep: ";", 
		rowsep: "\n", 
		colnum : 1,
		rowstnum : 1
	},
	settings:{
		vistype: vistype.value,
		chartType:charttype.value,
		type : "Gradient",
		showLegend : true,
		noDataColor : "#808080"
	}
});
codetxt.value = "$(\"#container\").zivis("+JSON.stringify(obj)+");";
}

$(function(){
$("#tabs").tabs();
$("#visdiv").ziselector();
$()
doit();
});
</script>

<footer>
Copyright (c) 2013 Ivan Zaytsev (zaycev.ivan@gmail.com, <a href="/main/">home page</a>)<br/>
(see 'about' tab for more information)
</footer>
<script>
if(location.href.split('/')[2]!='127.0.0.1'){
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41768406-1', 'navizv.github.io');
  ga('send', 'pageview');
}
</script>
</body>
</html>