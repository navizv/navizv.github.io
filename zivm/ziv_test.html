<html>
<head>
<title>
ZiVis test (ZiVisMaker)
</title>
        <link type="text/css" href="css/jquery-ui-1.10.3.custom.css" rel="stylesheet" />

        <script src="/libs/js/jquery.min.js"></script>
	<script src="/libs/js/highcharts.js"></script>
	<script src="/libs/js/exporting.js"></script>
       	<script src="js/jquery-ui-1.10.3.custom.min.js" type="text/javascript"></script>
        <script src="/libs/js/FileSaver.min.js"></script>
	<script src="/libs/zimap/zimap.js"></script>
	<script src="/libs/zimap/zivis.js"></script>

</head>
<body>
<div id="tabs">
            <ul>
                <li><a href="#datadiv">Data</a></li>
                <li><a href="#visdiv">Settings</a></li>
                <li><a href="#tabs-4">Hide</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="help.html">Help</a></li>
                <input type="button" value="Visualize" onclick="doit()">
            </ul>

<div id="datadiv" class="pages" style="display:block;">

<b>Data:</b><br/>
<textarea rows="10" cols="40" id="dat">Something;2000;2001;2002
Ненецкий;9;7;10
UA;7;8;9
US;4;5;6
RU-KHM;9;6;6
RU-SA;4;5;6
US-CA;7;8;9
US-IL;9;7;10</textarea>
</div>

<div id="visdiv" class="pages" style="display:none;">
<select id="vistype">
	<option value="Table">Table</option>
	<option value="Chart">Chart</option>
	<option value="Map" selected>Map</option>
</select>

<div id="Map">
mapset
</div>
<div id="Table">
No options for table
</div>
<div id="Chart">
Chart type:<br/>
<select id="charttype">
	<option value="pie" selected>pie</option>
	<option value="line">lines</option>
	<option value="column">bars</option>
	<option value="bar">horizontal bars</option>
</select>
</div>
</div>
</div>
<!-- end of tabs -->

<div id="container" style="width: 500px; height: 300px; opacity: 1;"></div>
<script>
function doit(){
//alert(dat.value.replace(/\r\n/g,"\n"));
$("#container").html("");
$("<div></div>").appendTo("#container").zivis({
	data:{
		str : dat.value.replace(/\r\n/g,"\n"),//"Something;2000;2001;2002+RU;9;7;10+UA;7;8;9+US;4;5;6+RU-KHM;9;6;6+RU-SA;4;5;6+US-CA;7;8;9+US-IL;9;7;10", 
		colsep: ";", 
		rowsep: "\n", 
		colnum : 1,
		rowstnum : 1
	},
	settings:{
		vistype: vistype.value,
		chartType:charttype.value,
		type : "Gradient",
		showLegend : true,
		noDataColor : "#808080"
	}
});
}

$(function(){
$("#tabs").tabs();
$("#visdiv").ziselector();
$()
doit();
});
</script>
</body>
</html>